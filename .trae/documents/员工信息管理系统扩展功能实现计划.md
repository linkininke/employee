# 员工信息管理系统扩展功能实现计划

## 一、数据库设计调整

### 1. 部门管理
- 创建 `department` 表，包含字段：id、name、description、create_time、update_time、deleted
- 调整 `employee` 表，将 `department` 字段改为 `department_id`，关联 `department` 表的主键

### 2. 职位管理
- 创建 `position` 表，包含字段：id、name、description、create_time、update_time、deleted
- 调整 `employee` 表，将 `position` 字段改为 `position_id`，关联 `position` 表的主键

### 3. 薪资管理
- 扩展 `employee` 表，增加薪资相关字段：salary_level、bonus、allowance、deduction 等
- 或创建独立的 `salary_record` 表，记录薪资变动历史

### 4. 权限管理
- 创建 `role` 表，包含字段：id、name、description、create_time、update_time、deleted
- 创建 `menu` 表，包含字段：id、name、path、component、icon、parent_id、order_num、create_time、update_time、deleted
- 创建 `role_menu` 关联表，记录角色与菜单的对应关系
- 创建 `user_role` 关联表，记录用户与角色的对应关系

### 5. 日志管理
- 创建 `operation_log` 表，包含字段：id、user_id、username、operation_type、operation_content、ip_address、create_time

## 二、后端实现

### 1. 部门管理
- 创建 Department 实体类
- 创建 DepartmentMapper 接口
- 创建 DepartmentService 接口及实现类
- 创建 DepartmentController，实现部门的增删改查 API

### 2. 职位管理
- 创建 Position 实体类
- 创建 PositionMapper 接口
- 创建 PositionService 接口及实现类
- 创建 PositionController，实现职位的增删改查 API

### 3. 薪资管理
- 扩展 Employee 实体类，增加薪资相关字段
- 或创建 SalaryRecord 实体类
- 实现薪资的增删改查 API

### 4. 导出员工数据为 Excel
- 集成 EasyExcel 或 Apache POI 库
- 在 EmployeeController 中添加导出 API
- 实现员工数据的 Excel 导出功能

### 5. 导入员工数据
- 在 EmployeeController 中添加导入 API
- 实现 Excel 文件上传和数据解析功能
- 实现数据验证和批量导入功能

### 6. 权限管理
- 创建 Role、Menu 实体类
- 创建相关 Mapper、Service、Controller
- 实现角色管理、菜单管理 API
- 实现用户角色分配、角色菜单分配 API
- 扩展 SecurityConfig，实现基于角色的权限控制

### 7. 日志管理
- 创建 OperationLog 实体类
- 创建相关 Mapper、Service、Controller
- 实现日志记录功能（使用 AOP 切面）
- 实现日志查询 API

## 三、前端实现

### 1. 部门管理
- 创建 DepartmentList.vue 页面，实现部门列表展示
- 创建 DepartmentAdd.vue 页面，实现部门添加功能
- 创建 DepartmentEdit.vue 页面，实现部门编辑功能
- 在路由中添加部门管理相关路由

### 2. 职位管理
- 创建 PositionList.vue 页面，实现职位列表展示
- 创建 PositionAdd.vue 页面，实现职位添加功能
- 创建 PositionEdit.vue 页面，实现职位编辑功能
- 在路由中添加职位管理相关路由

### 3. 薪资管理
- 扩展员工详情页面，增加薪资信息展示
- 或创建独立的薪资管理页面

### 4. 导出员工数据为 Excel
- 在员工列表页面添加导出按钮
- 实现导出功能的前端逻辑

### 5. 导入员工数据
- 在员工列表页面添加导入按钮
- 创建导入弹窗，实现文件上传功能
- 实现导入结果展示功能

### 6. 权限管理
- 创建角色管理页面，实现角色的增删改查
- 创建菜单管理页面，实现菜单的增删改查
- 创建角色菜单分配页面，实现角色与菜单的关联
- 创建用户角色分配页面，实现用户与角色的关联
- 实现动态路由加载功能

### 7. 日志管理
- 创建日志列表页面，实现日志的查询和展示
- 实现日志的筛选和分页功能

## 四、实现顺序建议

1. 部门管理和职位管理（基础数据管理）
2. 薪资管理（核心业务扩展）
3. 导出和导入功能（数据操作增强）
4. 权限管理（系统安全增强）
5. 日志管理（系统监控增强）

## 五、技术栈

- 后端：Spring Boot + MyBatis Plus + MySQL + EasyExcel
- 前端：Vue 3 + Element Plus + Axios
- 安全：Spring Security + JWT

## 六、注意事项

1. 数据库设计时要考虑数据的完整性和一致性
2. API 设计要遵循 RESTful 规范
3. 前端页面要保持一致的设计风格
4. 实现过程中要注意代码的可维护性和扩展性
5. 要进行充分的测试，确保功能的正确性和稳定性